/*!
 * 
 *       astrochart2
 *       A JavaScript for generating Astrology charts.
 *       Version: 0.7.3
 *       Author: Tom Jurman (tomasjurman@kibo.cz)
 *       Licence: GNUv3 (https://www.gnu.org/licenses/gpl-3.0.en.html)
 *
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.astrology=e():t.astrology=e()}(self,(()=>(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{RadixChart:()=>zt,SVGUtils:()=>Qt,TransitChart:()=>Jt,Universe:()=>te,Utils:()=>Zt});var s={};t.r(s),t.d(s,{CHART_ALLOW_HOUSE_OVERLAP:()=>T,CHART_CENTER_SIZE:()=>c,CHART_DRAW_MAIN_AXIS:()=>A,CHART_FONT_FAMILY:()=>C,CHART_MAIN_STROKE:()=>E,CHART_PADDING:()=>O,CHART_STROKE:()=>h,CHART_STROKE_MINOR_ASPECT:()=>R,CHART_STROKE_ONLY:()=>u,CHART_STROKE_WITH_COLOR:()=>d,CHART_VIEWBOX_HEIGHT:()=>o,CHART_VIEWBOX_WIDTH:()=>_,CLASS_AXIS:()=>L,CLASS_SIGN:()=>l,CLASS_SIGN_ASPECT:()=>I,CLASS_SIGN_ASPECT_LINE:()=>N,CLASS_SIGN_SEGMENT:()=>g,DRAW_RULER_MARK:()=>p,FONT_ASTRONOMICON_LOAD:()=>b,FONT_ASTRONOMICON_PATH:()=>m,PLANET_LINE_USE_PLANET_COLOR:()=>M});var i={};t.r(i),t.d(i,{ELEMENT_TITLES:()=>V,INSERT_ELEMENT_TITLE:()=>U,RADIX_AXIS_FONT_SIZE:()=>f,RADIX_HOUSE_FONT_SIZE:()=>Y,RADIX_ID:()=>P,RADIX_POINTS_FONT_SIZE:()=>G,RADIX_SIGNS_FONT_SIZE:()=>D,SYMBOL_STROKE:()=>B,SYMBOL_STROKE_COLOR:()=>x,SYMBOL_STROKE_WIDTH:()=>H});var n={};t.r(n),t.d(n,{TRANSIT_ID:()=>y,TRANSIT_POINTS_FONT_SIZE:()=>w});var r={};t.r(r),t.d(r,{ANGLE_TEMPLATE:()=>st,CLASS_CELESTIAL:()=>it,CLASS_POINT_ANGLE:()=>nt,CLASS_POINT_DIGNITY:()=>St,CLASS_POINT_RETROGRADE:()=>at,CLASS_POINT_SIGN:()=>rt,POINT_COLLISION_RADIUS:()=>et,POINT_PROPERTIES_ANGLE_OFFSET:()=>$,POINT_PROPERTIES_ANGLE_SIZE:()=>Z,POINT_PROPERTIES_DIGNITY_OFFSET:()=>tt,POINT_PROPERTIES_DIGNITY_SIZE:()=>q,POINT_PROPERTIES_DIGNITY_SYMBOLS:()=>v,POINT_PROPERTIES_FONT_SIZE:()=>Q,POINT_PROPERTIES_RETROGRADE_OFFSET:()=>J,POINT_PROPERTIES_RETROGRADE_SIZE:()=>j,POINT_PROPERTIES_SHOW:()=>X,POINT_PROPERTIES_SHOW_ANGLE:()=>k,POINT_PROPERTIES_SHOW_DIGNITY:()=>K,POINT_PROPERTIES_SHOW_RETROGRADE:()=>W,POINT_PROPERTIES_SHOW_SIGN:()=>F,POINT_PROPERTIES_SIGN_COLOR:()=>ht,POINT_PROPERTIES_SIGN_OFFSET:()=>z,POINT_STROKE:()=>Ot,POINT_STROKE_COLOR:()=>_t,POINT_STROKE_LINECAP:()=>ct,POINT_STROKE_WIDTH:()=>ot});var a={};t.r(a),t.d(a,{ASPECTS_BACKGROUND_COLOR:()=>ut,ASPECT_COLORS:()=>Ut,CHART_BACKGROUND_COLOR:()=>Et,CHART_CIRCLE_COLOR:()=>Ct,CHART_HOUSE_NUMBER_COLOR:()=>dt,CHART_LINE_COLOR:()=>Tt,CHART_MAIN_AXIS_COLOR:()=>gt,CHART_POINTS_COLOR:()=>Lt,CHART_SIGNS_COLOR:()=>lt,CHART_TEXT_COLOR:()=>At,CIRCLE_COLOR:()=>Ht,COLOR_AQUARIUS:()=>Bt,COLOR_ARIES:()=>Nt,COLOR_CANCER:()=>bt,COLOR_CAPRICORN:()=>ft,COLOR_GEMINI:()=>pt,COLOR_LEO:()=>mt,COLOR_LIBRA:()=>Gt,COLOR_PISCES:()=>xt,COLOR_SAGITTARIUS:()=>Dt,COLOR_SCORPIO:()=>Yt,COLOR_TAURUS:()=>Mt,COLOR_VIRGO:()=>Pt,PLANETS_BACKGROUND_COLOR:()=>Rt,PLANET_COLORS:()=>Vt,POINT_PROPERTIES_COLOR:()=>It,SIGN_COLORS:()=>yt,SIGN_LABELS:()=>wt,TRANSIT_PLANET_COLORS:()=>Xt});var S={};t.r(S),t.d(S,{ASPECTS_FONT_SIZE:()=>Kt,ASPECTS_ID:()=>kt,DEFAULT_ASPECTS:()=>Wt,DRAW_ASPECTS:()=>Ft});const O=40,_=800,o=800,c=1,h=1,E=2,R=1,u=!1,C="Astronomicon",T=!1,A=!0,d=!1,g="",l="",L="",I="",N="",M=!1,p=!0,b=!0,m="../assets/fonts/ttf/AstronomiconFonts_1.1/Astronomicon.ttf",P="radix",G=27,Y=20,D=27,f=32,B=!1,x="#FFF",H="4",U=!1,V={},y="transit",w=27,X=!0,k=!0,F=!1,K=!0,W=!0,v=["r","d","e","f"],Q=16,Z=25,j=25,q=12,$=2,z=3.5,J=5,tt=6,et=12,st="${angle}",it="",nt="",rt="",at="",St="",Ot=!1,_t="#fff",ot=2,ct="butt",ht=null,Et="none",Rt="#fff",ut="#eee",Ct="#333",Tt="#666",At="#bbb",dt="#333",gt="#000",lt="#333",Lt="#000",It="#333",Nt="#FF4500",Mt="#8B4513",pt="#87CEEB",bt="#27AE60",mt="#FF4500",Pt="#8B4513",Gt="#87CEEB",Yt="#27AE60",Dt="#FF4500",ft="#8B4513",Bt="#87CEEB",xt="#27AE60",Ht="#333",Ut={Conjunction:"#333",Opposition:"#1B4F72",Square:"#641E16",Trine:"#0B5345",Sextile:"#333",Quincunx:"#333",Semisextile:"#333",Quintile:"#333",Trioctile:"#333"},Vt={},yt={},wt=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],Xt={},kt="aspects",Ft=!0,Kt=18,Wt=[{name:"Conjunction",angle:0,orb:4,isMajor:!0},{name:"Opposition",angle:180,orb:4,isMajor:!0},{name:"Trine",angle:120,orb:2,isMajor:!0},{name:"Square",angle:90,orb:2,isMajor:!0},{name:"Sextile",angle:60,orb:2,isMajor:!0}],vt=Object.assign({},s,i,n,r,a,S);class Qt{static SVG_NAMESPACE="http://www.w3.org/2000/svg";static SYMBOL_ARIES="Aries";static SYMBOL_TAURUS="Taurus";static SYMBOL_GEMINI="Gemini";static SYMBOL_CANCER="Cancer";static SYMBOL_LEO="Leo";static SYMBOL_VIRGO="Virgo";static SYMBOL_LIBRA="Libra";static SYMBOL_SCORPIO="Scorpio";static SYMBOL_SAGITTARIUS="Sagittarius";static SYMBOL_CAPRICORN="Capricorn";static SYMBOL_AQUARIUS="Aquarius";static SYMBOL_PISCES="Pisces";static SYMBOL_SUN="Sun";static SYMBOL_MOON="Moon";static SYMBOL_MERCURY="Mercury";static SYMBOL_VENUS="Venus";static SYMBOL_EARTH="Earth";static SYMBOL_MARS="Mars";static SYMBOL_JUPITER="Jupiter";static SYMBOL_SATURN="Saturn";static SYMBOL_URANUS="Uranus";static SYMBOL_NEPTUNE="Neptune";static SYMBOL_PLUTO="Pluto";static SYMBOL_CHIRON="Chiron";static SYMBOL_LILITH="Lilith";static SYMBOL_NNODE="NNode";static SYMBOL_SNODE="SNode";static SYMBOL_AS="As";static SYMBOL_DS="Ds";static SYMBOL_MC="Mc";static SYMBOL_IC="Ic";static SYMBOL_RETROGRADE="Retrograde";static SYMBOL_CONJUNCTION="Conjunction";static SYMBOL_OPPOSITION="Opposition";static SYMBOL_SQUARE="Square";static SYMBOL_TRINE="Trine";static SYMBOL_SEXTILE="Sextile";static SYMBOL_QUINCUNX="Quincunx";static SYMBOL_SEMISEXTILE="Semi-sextile";static SYMBOL_SEMISQUARE="Semi-square";static SYMBOL_OCTILE="Octile";static SYMBOL_SESQUISQUARE="Sesquisquare";static SYMBOL_TRIOCTILE="Trioctile";static SYMBOL_QUINTILE="Quintile";static SYMBOL_BIQUINTILE="Biquintile";static SYMBOL_SEMIQUINTILE="Semi-quintile";static SYMBOL_ARIES_CODE="A";static SYMBOL_TAURUS_CODE="B";static SYMBOL_GEMINI_CODE="C";static SYMBOL_CANCER_CODE="D";static SYMBOL_LEO_CODE="E";static SYMBOL_VIRGO_CODE="F";static SYMBOL_LIBRA_CODE="G";static SYMBOL_SCORPIO_CODE="H";static SYMBOL_SAGITTARIUS_CODE="I";static SYMBOL_CAPRICORN_CODE="J";static SYMBOL_AQUARIUS_CODE="K";static SYMBOL_PISCES_CODE="L";static SYMBOL_SUN_CODE="Q";static SYMBOL_MOON_CODE="R";static SYMBOL_MERCURY_CODE="S";static SYMBOL_VENUS_CODE="T";static SYMBOL_EARTH_CODE=">";static SYMBOL_MARS_CODE="U";static SYMBOL_JUPITER_CODE="V";static SYMBOL_SATURN_CODE="W";static SYMBOL_URANUS_CODE="X";static SYMBOL_NEPTUNE_CODE="Y";static SYMBOL_PLUTO_CODE="Z";static SYMBOL_CHIRON_CODE="q";static SYMBOL_LILITH_CODE="z";static SYMBOL_NNODE_CODE="g";static SYMBOL_SNODE_CODE="i";static SYMBOL_AS_CODE="c";static SYMBOL_DS_CODE="f";static SYMBOL_MC_CODE="d";static SYMBOL_IC_CODE="e";static SYMBOL_RETROGRADE_CODE="M";static SYMBOL_CONJUNCTION_CODE="!";static SYMBOL_OPPOSITION_CODE='"';static SYMBOL_SQUARE_CODE="#";static SYMBOL_TRINE_CODE="$";static SYMBOL_SEXTILE_CODE="%";static SYMBOL_QUINCUNX_CODE="&";static SYMBOL_SEMISEXTILE_CODE="'";static SYMBOL_SEMISQUARE_CODE="(";static SYMBOL_TRIOCTILE_CODE=")";static SYMBOL_BIQUINTILE_CODE="*";static SYMBOL_QUINTILE_CODE="·";static SYMBOL_SEMIQUINTILE_CODE=",";static SYMBOL_QUINDECILE_CODE="¸";static SYMBOL_QUINTILE_VARIANT_CODE="+";constructor(){if(this instanceof Qt)throw Error("This is a static class and cannot be instantiated.")}static SVGDocument(t,e){const s=document.createElementNS(Qt.SVG_NAMESPACE,"svg");return s.setAttribute("xmlns",Qt.SVG_NAMESPACE),s.setAttribute("version","1.1"),s.setAttribute("viewBox","0 0 "+t+" "+e),s}static SVGGroup(){return document.createElementNS(Qt.SVG_NAMESPACE,"g")}static SVGTitle(t){const e=document.createElementNS(Qt.SVG_NAMESPACE,"title");return e.appendChild(document.createTextNode(t)),e}static SVGPath(){return document.createElementNS(Qt.SVG_NAMESPACE,"path")}static SVGMask(t){const e=document.createElementNS(Qt.SVG_NAMESPACE,"mask");return e.setAttribute("id",t),e}static SVGSegment(t,e,s,i,n,r,a,S){const O=a||0,_=S||0,o=document.createElementNS(Qt.SVG_NAMESPACE,"path");return o.setAttribute("d","M "+(t+r*Math.cos(i))+", "+(e+r*Math.sin(i))+" l "+(s-r)*Math.cos(i)+", "+(s-r)*Math.sin(i)+" A "+s+", "+s+",0 ,"+O+", "+_+", "+(t+s*Math.cos(n))+", "+(e+s*Math.sin(n))+" l "+(s-r)*-Math.cos(n)+", "+(s-r)*-Math.sin(n)+" A "+r+", "+r+",0 ,"+O+", 1, "+(t+r*Math.cos(i))+", "+(e+r*Math.sin(i))),o.setAttribute("fill","none"),o}static SVGCircle(t,e,s){const i=document.createElementNS(Qt.SVG_NAMESPACE,"circle");return i.setAttribute("cx",t),i.setAttribute("cy",e),i.setAttribute("r",s),i.setAttribute("fill","none"),i}static SVGLine(t,e,s,i){const n=document.createElementNS(Qt.SVG_NAMESPACE,"line");return n.setAttribute("x1",t),n.setAttribute("y1",e),n.setAttribute("x2",s),n.setAttribute("y2",i),n}static SVGText(t,e,s){const i=document.createElementNS(Qt.SVG_NAMESPACE,"text");return i.setAttribute("x",t),i.setAttribute("y",e),i.setAttribute("stroke","none"),i.appendChild(document.createTextNode(s)),i}static SVGSymbol(t,e,s){switch(t){case Qt.SYMBOL_AS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_AS_CODE)}(e,s);case Qt.SYMBOL_DS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_DS_CODE)}(e,s);case Qt.SYMBOL_MC:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_MC_CODE)}(e,s);case Qt.SYMBOL_IC:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_IC_CODE)}(e,s);case Qt.SYMBOL_ARIES:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_ARIES_CODE)}(e,s);case Qt.SYMBOL_TAURUS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_TAURUS_CODE)}(e,s);case Qt.SYMBOL_GEMINI:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_GEMINI_CODE)}(e,s);case Qt.SYMBOL_CANCER:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_CANCER_CODE)}(e,s);case Qt.SYMBOL_LEO:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_LEO_CODE)}(e,s);case Qt.SYMBOL_VIRGO:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_VIRGO_CODE)}(e,s);case Qt.SYMBOL_LIBRA:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_LIBRA_CODE)}(e,s);case Qt.SYMBOL_SCORPIO:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SCORPIO_CODE)}(e,s);case Qt.SYMBOL_SAGITTARIUS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SAGITTARIUS_CODE)}(e,s);case Qt.SYMBOL_CAPRICORN:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_CAPRICORN_CODE)}(e,s);case Qt.SYMBOL_AQUARIUS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_AQUARIUS_CODE)}(e,s);case Qt.SYMBOL_PISCES:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_PISCES_CODE)}(e,s);case Qt.SYMBOL_SUN:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SUN_CODE)}(e,s);case Qt.SYMBOL_MOON:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_MOON_CODE)}(e,s);case Qt.SYMBOL_MERCURY:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_MERCURY_CODE)}(e,s);case Qt.SYMBOL_VENUS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_VENUS_CODE)}(e,s);case Qt.SYMBOL_EARTH:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_EARTH_CODE)}(e,s);case Qt.SYMBOL_MARS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_MARS_CODE)}(e,s);case Qt.SYMBOL_JUPITER:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_JUPITER_CODE)}(e,s);case Qt.SYMBOL_SATURN:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SATURN_CODE)}(e,s);case Qt.SYMBOL_URANUS:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_URANUS_CODE)}(e,s);case Qt.SYMBOL_NEPTUNE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_NEPTUNE_CODE)}(e,s);case Qt.SYMBOL_PLUTO:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_PLUTO_CODE)}(e,s);case Qt.SYMBOL_CHIRON:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_CHIRON_CODE)}(e,s);case Qt.SYMBOL_LILITH:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_LILITH_CODE)}(e,s);case Qt.SYMBOL_NNODE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_NNODE_CODE)}(e,s);case Qt.SYMBOL_SNODE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SNODE_CODE)}(e,s);case Qt.SYMBOL_RETROGRADE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_RETROGRADE_CODE)}(e,s);case Qt.SYMBOL_CONJUNCTION:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_CONJUNCTION_CODE)}(e,s);case Qt.SYMBOL_OPPOSITION:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_OPPOSITION_CODE)}(e,s);case Qt.SYMBOL_SQUARE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SQUARE_CODE)}(e,s);case Qt.SYMBOL_TRINE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_TRINE_CODE)}(e,s);case Qt.SYMBOL_SEXTILE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SEXTILE_CODE)}(e,s);case Qt.SYMBOL_QUINCUNX:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_QUINCUNX_CODE)}(e,s);case Qt.SYMBOL_SEMISEXTILE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SEMISEXTILE_CODE)}(e,s);case Qt.SYMBOL_SEMISQUARE:case Qt.SYMBOL_OCTILE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SEMISQUARE_CODE)}(e,s);case Qt.SYMBOL_TRIOCTILE:case Qt.SYMBOL_SESQUISQUARE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_TRIOCTILE_CODE)}(e,s);case Qt.SYMBOL_QUINTILE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SEMISQUARE_CODE)}(e,s);case Qt.SYMBOL_BIQUINTILE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_BIQUINTILE_CODE)}(e,s);case Qt.SYMBOL_SEMIQUINTILE:return function(t,e){return Qt.SVGText(t,e,Qt.SYMBOL_SEMIQUINTILE_CODE)}(e,s);default:console.debug("Unknown symbol: "+t);const i=Qt.SVGCircle(e,s,8);return i.setAttribute("stroke","#333"),i}}}class Zt{constructor(){if(this instanceof Zt)throw Error("This is a static class and cannot be instantiated.")}static DEG_360=360;static DEG_180=180;static DEG_0=0;static generateUniqueId=function(){return`id_${1e6*Math.random()}_${Date.now()}`};static degreeToRadian=function(t){return((arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)-t)*Math.PI/180};static radianToDegree=function(t){return 180*t/Math.PI};static positionOnCircle(t,e,s,i){return{x:s*Math.cos(i)+t,y:s*Math.sin(i)+e}}static positionToAngle(t,e,s,i){const n=s-t,r=i-e,a=Math.atan2(r,n);return Zt.radianToDegree(a)}static calculatePositionWithoutOverlapping(t,e,s){const i=Zt.DEG_360/10,n=new Array(i).fill(0);for(const e of t){n[Math.floor(e.angle/10)]+=1}const r=10*n.findIndex((t=>0===t)),a=t.map((t=>({name:t.name,angle:t.angle<r?t.angle+Zt.DEG_360:t.angle})));a.sort(((t,e)=>t.angle-e.angle));const S=()=>{for(let t=0,i=a.length;t<i;t++){const i=Zt.positionOnCircle(0,0,s,Zt.degreeToRadian(a[t].angle));a[t].x=i.x,a[t].y=i.y;for(let s=0;s<t;s++){Math.sqrt(Math.pow(a[t].x-a[s].x,2)+Math.pow(a[t].y-a[s].y,2))<2*e&&(a[t].angle+=1,a[s].angle-=1,S())}}};return S(),a.reduce(((t,e,s)=>(t[e.name]=e.angle,t)),{})}static isCollision(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return void 0!==e.find((e=>{let i=e-t>Zt.DEG_180?t+Zt.DEG_360:t,n=t-e>Zt.DEG_180?e+Zt.DEG_360:e;return Math.abs(i-n)<=s}))}static cleanUp(t,e){let s=document.getElementById(t);s&&("function"==typeof e&&e(),s.innerHTML="")}static fillTemplate=function(t,e){return new Function(...Object.keys(e),"return `"+t+"`;")(...Object.values(e))}}class jt{constructor(){if(this instanceof jt)throw Error("This is a static class and cannot be instantiated.")}static orb(t,e,s){let i,n=t>e?1:-1,r=Math.abs(t-e);return r>Zt.DEG_180?(r=Zt.DEG_360-r,i=-1*(r-s)):i=(r-s)*n,Number(Number(i).toFixed(2))}static getAspects(t,e,s){const i=[];for(const n of t)for(const t of e)for(const e of s){const s=jt.orb(n.angle,t.angle,e.angle);let r=((e.orbs?.[n.name]??e.orb)+(e.orbs?.[t.name]??e.orb))/2;Math.abs(s)<=r&&i.push({aspect:e,from:n,to:t,precision:s})}return i}static drawAspects(t,e,s,i){const n=s.CHART_VIEWBOX_WIDTH/2,r=s.CHART_VIEWBOX_HEIGHT/2,a=Qt.SVGGroup();a.classList.add("c-aspects"),i.sort(((t,e)=>(t.aspect.isMajor??!1)===(e.aspect.isMajor??!1)?0:t.aspect.isMajor?1:-1));const S=[];for(const t of i){const e=Qt.SVGGroup();e.classList.add("c-aspects__aspect"),e.classList.add("c-aspects__aspect--"+t.aspect.name.toLowerCase()),e.dataset.precision=t.precision,S.push(e)}const O=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;const i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),a=(t.x+e.x)/2,S=(t.y+e.y)/2,O=s/2,_=i/r,o=n/r;return[[t,{x:a-_*O,y:S-o*O}],[{x:a+_*O,y:S+o*O},e]]};for(let a=0;a<i.length;a++){const _=i[a],o=S[a];if("Conjunction"===_.aspect.name)continue;const c=Zt.positionOnCircle(n,r,t,Zt.degreeToRadian(_.from.angle,e)),h=Zt.positionOnCircle(n,r,t,Zt.degreeToRadian(_.to.angle,e)),[E,R]=O(c,h,s.ASPECTS_FONT_SIZE??20),u=Qt.SVGLine(E[0].x,E[0].y,E[1].x,E[1].y);u.setAttribute("stroke",s.ASPECT_COLORS[_.aspect.name]??"#333"),s.CHART_STROKE_MINOR_ASPECT&&!_.aspect.isMajor?u.setAttribute("stroke-width",s.CHART_STROKE_MINOR_ASPECT):u.setAttribute("stroke-width",s.CHART_STROKE),s.CLASS_SIGN_ASPECT_LINE&&u.setAttribute("class",s.CLASS_SIGN_ASPECT_LINE);const C=Qt.SVGLine(R[0].x,R[0].y,R[1].x,R[1].y);C.setAttribute("stroke",s.ASPECT_COLORS[_.aspect.name]??"#333"),s.CHART_STROKE_MINOR_ASPECT&&!_.aspect.isMajor?C.setAttribute("stroke-width",s.CHART_STROKE_MINOR_ASPECT):C.setAttribute("stroke-width",s.CHART_STROKE),s.CLASS_SIGN_ASPECT_LINE&&C.setAttribute("class",s.CLASS_SIGN_ASPECT_LINE),o.appendChild(u),o.appendChild(C)}for(let O=0;O<i.length;O++){const _=i[O],o=S[O],c=Zt.positionOnCircle(n,r,t,Zt.degreeToRadian(_.from.angle,e)),h=Zt.positionOnCircle(n,r,t,Zt.degreeToRadian(_.to.angle,e)),E=(c.x+h.x)/2,R=(c.y+h.y)/2-(s.ASPECTS_FONT_SIZE??20)/18,u=Qt.SVGSymbol(_.aspect.name,E,R);u.setAttribute("font-family",s.CHART_FONT_FAMILY??"Astronomicon"),u.setAttribute("text-anchor","middle"),u.setAttribute("dominant-baseline","middle"),u.setAttribute("font-size",s.ASPECTS_FONT_SIZE),u.setAttribute("fill",s.ASPECT_COLORS[_.aspect.name]??"#333"),s.CLASS_SIGN_ASPECT&&u.setAttribute("class",s.CLASS_SIGN_ASPECT+" "+s.CLASS_SIGN_ASPECT+"--"+_.aspect.name.toLowerCase()),s.INSERT_ELEMENT_TITLE&&u.appendChild(Qt.SVGTitle(s.ELEMENT_TITLES.aspects[_.aspect.name.toLowerCase()])),o.dataset.from=_.from.name.toLowerCase(),o.dataset.to=_.to.name.toLowerCase(),o.appendChild(u),a.appendChild(o)}return a}}class qt{constructor(t){}validateData(t){if(!t)throw new Error("Mising param data.");if(!Array.isArray(t.points))return{isValid:!1,message:"points is not Array."};if(!Array.isArray(t.cusps))return{isValid:!1,message:"cups is not Array."};if(12!==t.cusps.length)return{isValid:!1,message:"cusps.length !== 12"};for(let e of t.points){if("string"!=typeof e.name)return{isValid:!1,message:"point.name !== 'string'"};if(0===e.name.length)return{isValid:!1,message:"point.name.length == 0"};if("number"!=typeof e.angle)return{isValid:!1,message:"point.angle !== 'number'"}}for(let e of t.cusps)if("number"!=typeof e.angle)return{isValid:!1,message:"cusp.angle !== 'number'"};return{isValid:!0,message:""}}setData(t){throw new Error("Must be implemented by subclass.")}getPoints(){throw new Error("Must be implemented by subclass.")}getPoint(t){throw new Error("Must be implemented by subclass.")}animateTo(t){throw new Error("Must be implemented by subclass.")}}class $t{#t;#e;#s;#i;#n;#r;constructor(t,e,s){if(this.#t=t.name??"Unknown",this.#e=t.angle??0,this.#s=t.sign??null,this.#i=t.isRetrograde??!1,!Array.isArray(e)||12!==e.length)throw new Error("Bad param cusps. ");if(this.#n=e,!s)throw new Error("Bad param settings.");this.#r=s}getName(){return this.#t}isRetrograde(){return this.#i}getAngle(){return this.#e}getSign(){return this.#s}getSymbol(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n=Qt.SVGGroup(),r=Qt.SVGSymbol(this.#t,t,e);if(r.setAttribute("data-name",this.#t),this.#r.CLASS_CELESTIAL&&r.setAttribute("class",this.#r.CLASS_CELESTIAL+" "+this.#r.CLASS_CELESTIAL+"--"+this.#t.toLowerCase()),this.#r.POINT_STROKE&&(r.setAttribute("paint-order","stroke"),r.setAttribute("stroke",this.#r.POINT_STROKE_COLOR),r.setAttribute("stroke-width",this.#r.POINT_STROKE_WIDTH)),n.appendChild(r),!1===i)return n;const a=this.#r.CHART_VIEWBOX_WIDTH/2,S=this.#r.CHART_VIEWBOX_HEIGHT/2,O=Zt.positionToAngle(t,e,a,S);return this.#r.POINT_PROPERTIES_SHOW_ANGLE&&function(){const i=Zt.positionOnCircle(t,e,this.#r.POINT_PROPERTIES_ANGLE_OFFSET*this.#r.POINT_COLLISION_RADIUS,Zt.degreeToRadian(-O,s));let r=this.getAngleInSign(),a=Zt.fillTemplate(this.#r.ANGLE_TEMPLATE,{angle:r});const S=Qt.SVGText(i.x,i.y,a);S.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),S.setAttribute("text-anchor","middle"),S.setAttribute("dominant-baseline","middle"),S.setAttribute("font-size",this.#r.POINT_PROPERTIES_ANGLE_SIZE||this.#r.POINT_PROPERTIES_FONT_SIZE),S.setAttribute("fill",this.#r.POINT_PROPERTIES_ANGLE_COLOR||this.#r.POINT_PROPERTIES_COLOR),this.#r.CLASS_POINT_ANGLE&&S.setAttribute("class",this.#r.CLASS_POINT_ANGLE+" "+this.#r.CLASS_POINT_ANGLE+"--"+r);this.#r.POINT_STROKE&&(S.setAttribute("paint-order","stroke"),S.setAttribute("stroke",this.#r.POINT_STROKE_COLOR),S.setAttribute("stroke-width",this.#r.POINT_STROKE_WIDTH));n.appendChild(S)}.call(this),this.#r.POINT_PROPERTIES_SHOW_SIGN&&null!==this.#s&&function(){const i=Zt.positionOnCircle(t,e,this.#r.POINT_PROPERTIES_SIGN_OFFSET*this.#r.POINT_COLLISION_RADIUS,Zt.degreeToRadian(-O,s));let r=this.#r.SIGN_LABELS.indexOf(this.#s);const a=Qt.SVGSymbol(this.#s,i.x,i.y);a.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),a.setAttribute("text-anchor","middle"),a.setAttribute("dominant-baseline","middle"),a.setAttribute("font-size",this.#r.POINT_PROPERTIES_SIGN_SIZE||this.#r.POINT_PROPERTIES_FONT_SIZE),null!==this.#r.POINT_PROPERTIES_SIGN_COLOR?a.setAttribute("fill",this.#r.POINT_PROPERTIES_SIGN_COLOR):a.setAttribute("fill",this.#r.SIGN_COLORS[r]||this.#r.POINT_PROPERTIES_COLOR);this.#r.CLASS_POINT_SIGN&&a.setAttribute("class",this.#r.CLASS_POINT_SIGN+" "+this.#r.CLASS_POINT_SIGN+"--"+this.#s.toLowerCase());this.#r.POINT_STROKE&&(a.setAttribute("paint-order","stroke"),a.setAttribute("stroke",this.#r.POINT_STROKE_COLOR),a.setAttribute("stroke-width",this.#r.POINT_STROKE_WIDTH));n.appendChild(a)}.call(this),this.#r.POINT_PROPERTIES_SHOW_RETROGRADE&&this.#i&&function(){const i=Zt.positionOnCircle(t,e,this.#r.POINT_PROPERTIES_RETROGRADE_OFFSET*this.#r.POINT_COLLISION_RADIUS,Zt.degreeToRadian(-O,s)),r=Qt.SVGText(i.x,i.y,Qt.SYMBOL_RETROGRADE_CODE);r.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),r.setAttribute("text-anchor","middle"),r.setAttribute("dominant-baseline","middle"),r.setAttribute("font-size",this.#r.POINT_PROPERTIES_RETROGRADE_SIZE||this.#r.POINT_PROPERTIES_FONT_SIZE),r.setAttribute("fill",this.#r.POINT_PROPERTIES_RETROGRADE_COLOR||this.#r.POINT_PROPERTIES_COLOR),this.#r.CLASS_POINT_RETROGRADE&&r.setAttribute("class",this.#r.CLASS_POINT_RETROGRADE);this.#r.POINT_STROKE&&(r.setAttribute("paint-order","stroke"),r.setAttribute("stroke",this.#r.POINT_STROKE_COLOR),r.setAttribute("stroke-width",this.#r.POINT_STROKE_WIDTH));this.#r.INSERT_ELEMENT_TITLE&&r.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.retrograde));n.appendChild(r)}.call(this),this.#r.POINT_PROPERTIES_SHOW_DIGNITY&&this.getDignity()&&function(){const i=Zt.positionOnCircle(t,e,this.#r.POINT_PROPERTIES_DIGNITY_OFFSET*this.#r.POINT_COLLISION_RADIUS,Zt.degreeToRadian(-O,s)),r=Qt.SVGText(i.x,i.y,this.getDignity());r.setAttribute("font-family","sans-serif"),r.setAttribute("text-anchor","middle"),r.setAttribute("dominant-baseline","middle"),r.setAttribute("font-size",this.#r.POINT_PROPERTIES_DIGNITY_SIZE||this.#r.POINT_PROPERTIES_FONT_SIZE),r.setAttribute("fill",this.#r.POINT_PROPERTIES_DIGNITY_COLOR||this.#r.POINT_PROPERTIES_COLOR),this.#r.CLASS_POINT_DIGNITY&&r.setAttribute("class",this.#r.CLASS_POINT_DIGNITY+" "+this.#r.CLASS_POINT_DIGNITY+"--"+r.textContent);this.#r.POINT_STROKE&&(r.setAttribute("paint-order","stroke"),r.setAttribute("stroke",this.#r.POINT_STROKE_COLOR),r.setAttribute("stroke-width",this.#r.POINT_STROKE_WIDTH));n.appendChild(r)}.call(this),this.#r.INSERT_ELEMENT_TITLE&&r.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.points[this.#t.toLowerCase()])),n}getHouseNumber(){throw new Error("Not implemented yet.")}getSignNumber(){let t=this.#e%Zt.DEG_360;return Math.floor(t/30+1)}getAngleInSign(){return Math.floor(this.#e%30)}getDignity(){const t=this.#r.POINT_PROPERTIES_DIGNITY_SYMBOLS[0],e=this.#r.POINT_PROPERTIES_DIGNITY_SYMBOLS[1],s=this.#r.POINT_PROPERTIES_DIGNITY_SYMBOLS[2],i=this.#r.POINT_PROPERTIES_DIGNITY_SYMBOLS[3];switch(this.#t){case Qt.SYMBOL_SUN:return 5===this.getSignNumber()?t:11===this.getSignNumber()?e:6===this.getSignNumber()?i:1===this.getSignNumber()?s:"";case Qt.SYMBOL_MOON:return 4===this.getSignNumber()?t:10===this.getSignNumber()?e:8===this.getSignNumber()?i:2===this.getSignNumber()?s:"";case Qt.SYMBOL_MERCURY:return 3===this.getSignNumber()?t:9===this.getSignNumber()?e:12===this.getSignNumber()?i:6===this.getSignNumber()?s:"";case Qt.SYMBOL_VENUS:return 2===this.getSignNumber()||7===this.getSignNumber()?t:1===this.getSignNumber()||8===this.getSignNumber()?e:6===this.getSignNumber()?i:12===this.getSignNumber()?s:"";case Qt.SYMBOL_MARS:return 1===this.getSignNumber()||8===this.getSignNumber()?t:2===this.getSignNumber()||7===this.getSignNumber()?e:4===this.getSignNumber()?i:10===this.getSignNumber()?s:"";case Qt.SYMBOL_JUPITER:return 9===this.getSignNumber()||12===this.getSignNumber()?t:3===this.getSignNumber()||6===this.getSignNumber()?e:10===this.getSignNumber()?i:4===this.getSignNumber()?s:"";case Qt.SYMBOL_SATURN:return 10===this.getSignNumber()||11===this.getSignNumber()?t:4===this.getSignNumber()||5===this.getSignNumber()?e:1===this.getSignNumber()?i:7===this.getSignNumber()?s:"";case Qt.SYMBOL_URANUS:return 11===this.getSignNumber()?t:5===this.getSignNumber()?e:2===this.getSignNumber()?i:8===this.getSignNumber()?s:"";case Qt.SYMBOL_NEPTUNE:return 12===this.getSignNumber()?t:6===this.getSignNumber()?e:3===this.getSignNumber()||11===this.getSignNumber()?i:9===this.getSignNumber()||5===this.getSignNumber()?s:"";case Qt.SYMBOL_PLUTO:return 8===this.getSignNumber()?t:2===this.getSignNumber()?e:7===this.getSignNumber()?i:1===this.getSignNumber()?s:"";default:return""}}}class zt extends qt{#a=24;#S;#r;#O;#_;#o;#c;#h;#E;#R;constructor(t){if(!t instanceof te)throw new Error("Bad param universe.");return super(t.getSettings()),this.#S=t,this.#r=this.#S.getSettings(),this.#o=this.#r.CHART_VIEWBOX_WIDTH/2,this.#c=this.#r.CHART_VIEWBOX_HEIGHT/2,this.#h=Math.min(this.#o,this.#c)-this.#r.CHART_PADDING,this.#O=Qt.SVGGroup(),this.#O.setAttribute("id",`${this.#r.HTML_ELEMENT_ID}-${this.#r.RADIX_ID}`),this.#S.getSVGDocument().appendChild(this.#O),this}setData(t){let e=this.validateData(t);if(!e.isValid)throw new Error(e.message);return this.#_=t,this.#u(t),this}getData(){return{points:[...this.#_.points],cusps:[...this.#_.cusps]}}setNumberOfLevels(t){return this.#a=Math.max(24,t),this.#_&&this.#u(this.#_),this}getRadius(){return this.#h}getOuterCircleRadius(){return this.getRadius()/this.#a*24}getInnerCircleRadius(){return this.getRadius()/this.#a*21}getRullerCircleRadius(){return this.getRadius()/this.#a*20}getPointCircleRadius(){return this.getRadius()/this.#a*18}getCenterCircleRadius(){return this.getRadius()/this.#a*12*(this.#r.CHART_CENTER_SIZE??1)}getUniverse(){return this.#S}getAscendantShift(){return(this.#_?.cusps[0]?.angle??0)+Zt.DEG_180}getAspects(t,e,s){if(this.#_)return t=t??this.#_.points.filter((t=>!("aspect"in t)||t.aspect)),e=e??[...this.#_.points.filter((t=>!("aspect"in t)||t.aspect)),...this.#_.cusps.filter((t=>t.aspect))],s=s??this.#r.DEFAULT_ASPECTS??vt.DEFAULT_ASPECTS,jt.getAspects(t,e,s).filter((t=>t.from.name!==t.to.name))}drawAspects(t,e,s){const i=this.#S.getAspectsElement();Zt.cleanUp(i.getAttribute("id"),this.#R);const n=this.getAspects(t,e,s).reduce(((t,e)=>(t.some((t=>t.from.name===e.to.name&&t.to.name===e.from.name))||t.push(e),t)),[]),r=Qt.SVGCircle(this.#o,this.#c,this.getCenterCircleRadius());return r.setAttribute("fill",this.#r.ASPECTS_BACKGROUND_COLOR),i.appendChild(r),i.appendChild(jt.drawAspects(this.getCenterCircleRadius(),this.getAscendantShift(),this.#r,n)),this}#u(t){Zt.cleanUp(this.#O.getAttribute("id"),this.#R),this.#C(),this.#T(),this.#A(t),this.#d(t),this.#g(),this.#l(),this.#r.CHART_DRAW_MAIN_AXIS&&this.#L(t),this.#r.DRAW_ASPECTS&&this.drawAspects()}#C(){if(void 0!==this.#E)return void this.#E.querySelector('circle[fill="black"]').setAttribute("r",this.getCenterCircleRadius());const t=`${this.#r.HTML_ELEMENT_ID}-${this.#r.RADIX_ID}-background-mask-1`,e=Qt.SVGGroup();e.classList.add("c-radix-background");const s=Qt.SVGMask(t),i=Qt.SVGCircle(this.#o,this.#c,this.getRadius());i.setAttribute("fill","white"),s.appendChild(i);const n=Qt.SVGCircle(this.#o,this.#c,this.getCenterCircleRadius());n.setAttribute("fill","black"),s.appendChild(n),this.#E=s,e.appendChild(this.#E);const r=Qt.SVGCircle(this.#o,this.#c,this.getRadius());r.setAttribute("fill",this.#r.CHART_STROKE_ONLY?"none":this.#r.PLANETS_BACKGROUND_COLOR),r.setAttribute("mask",this.#r.CHART_STROKE_ONLY?"none":`url(#${t})`),e.appendChild(r),this.#O.parentElement.querySelector(".c-backgrounds").appendChild(e)}#T(){const t=[this.#r.COLOR_ARIES,this.#r.COLOR_TAURUS,this.#r.COLOR_GEMINI,this.#r.COLOR_CANCER,this.#r.COLOR_LEO,this.#r.COLOR_VIRGO,this.#r.COLOR_LIBRA,this.#r.COLOR_SCORPIO,this.#r.COLOR_SAGITTARIUS,this.#r.COLOR_CAPRICORN,this.#r.COLOR_AQUARIUS,this.#r.COLOR_PISCES],e=[Qt.SYMBOL_ARIES,Qt.SYMBOL_TAURUS,Qt.SYMBOL_GEMINI,Qt.SYMBOL_CANCER,Qt.SYMBOL_LEO,Qt.SYMBOL_VIRGO,Qt.SYMBOL_LIBRA,Qt.SYMBOL_SCORPIO,Qt.SYMBOL_SAGITTARIUS,Qt.SYMBOL_CAPRICORN,Qt.SYMBOL_AQUARIUS,Qt.SYMBOL_PISCES];12!==t.length&&console.error("Missing entries in COLOR_SIGNS, requires 12 entries");const s=(t,s)=>{let i=Zt.positionOnCircle(this.#o,this.#c,this.getOuterCircleRadius()-(this.getOuterCircleRadius()-this.getInnerCircleRadius())/2,Zt.degreeToRadian(s+15,this.getAscendantShift())),n=Qt.SVGSymbol(e[t],i.x,i.y);return n.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),n.setAttribute("text-anchor","middle"),n.setAttribute("dominant-baseline","middle"),n.setAttribute("font-size",this.#r.RADIX_SIGNS_FONT_SIZE),null!==this.#r.SIGN_COLOR_CIRCLE?n.setAttribute("fill",this.#r.SIGN_COLOR_CIRCLE):n.setAttribute("fill",this.#r.SIGN_COLORS[t]??this.#r.CHART_SIGNS_COLOR),this.#r.CLASS_SIGN&&n.setAttribute("class",this.#r.CLASS_SIGN+" "+this.#r.CLASS_SIGN+"--"+e[t].toLowerCase()),this.#r.SYMBOL_STROKE&&(n.setAttribute("paint-order","stroke"),n.setAttribute("stroke",this.#r.SYMBOL_STROKE_COLOR),n.setAttribute("stroke-width",this.#r.SYMBOL_STROKE_WIDTH)),this.#r.INSERT_ELEMENT_TITLE&&n.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.signs[e[t].toLowerCase()])),n},i=(s,i,n)=>{let r=Zt.degreeToRadian(i,this.getAscendantShift()),a=Zt.degreeToRadian(n,this.getAscendantShift()),S=Qt.SVGSegment(this.#o,this.#c,this.getOuterCircleRadius(),r,a,this.getInnerCircleRadius());return this.#r.CHART_STROKE_WITH_COLOR?(S.setAttribute("fill",t[s]),S.setAttribute("stroke",this.#r.CIRCLE_COLOR),S.setAttribute("stroke-width",this.#r.CHART_STROKE)):(S.setAttribute("fill",this.#r.CHART_STROKE_ONLY?"none":t[s]),S.setAttribute("stroke",this.#r.CHART_STROKE_ONLY?this.#r.CIRCLE_COLOR:"none"),S.setAttribute("stroke-width",this.#r.CHART_STROKE_ONLY?this.#r.CHART_STROKE:0)),this.#r.CLASS_SIGN_SEGMENT&&S.setAttribute("class",this.#r.CLASS_SIGN_SEGMENT+" "+this.#r.CLASS_SIGN_SEGMENT+e[s].toLowerCase()),S};let n=0,r=n+30;const a=Qt.SVGGroup();a.classList.add("c-radix-astrological-signs");for(let t=0;t<12;t++){let e=i(t,n,r);a.appendChild(e);let S=s(t,n);a.appendChild(S),n+=30,r=n+30}this.#O.appendChild(a)}#g(){const t=Qt.SVGGroup();t.classList.add("c-radix-ruler");let e=this.getAscendantShift();for(let s=0;s<72;s++){let i=Zt.positionOnCircle(this.#o,this.#c,this.getRullerCircleRadius(),Zt.degreeToRadian(e)),n=Zt.positionOnCircle(this.#o,this.#c,s%2?this.getInnerCircleRadius()-(this.getInnerCircleRadius()-this.getRullerCircleRadius())/2:this.getInnerCircleRadius(),Zt.degreeToRadian(e));const r=Qt.SVGLine(i.x,i.y,n.x,n.y);r.setAttribute("stroke",this.#r.CHART_LINE_COLOR),r.setAttribute("stroke-width",this.#r.CHART_STROKE),t.appendChild(r),e+=5}const s=Qt.SVGCircle(this.#o,this.#c,this.getRullerCircleRadius());s.setAttribute("stroke",this.#r.CHART_CIRCLE_COLOR),s.setAttribute("stroke-width",this.#r.CHART_STROKE),t.appendChild(s),this.#O.appendChild(t)}#d(t){const e=t.points,s=t.cusps,i=Qt.SVGGroup();i.classList.add("c-radix-points");const n=Zt.calculatePositionWithoutOverlapping(e,this.#r.POINT_COLLISION_RADIUS,this.getPointCircleRadius());for(const t of e){const e=Qt.SVGGroup();e.classList.add("c-radix-point"),e.classList.add("c-radix-point--"+t.name.toLowerCase());const r=new $t(t,s,this.#r),a=Zt.positionOnCircle(this.#o,this.#o,this.getRullerCircleRadius()-(this.getInnerCircleRadius()-this.getRullerCircleRadius())/4,Zt.degreeToRadian(r.getAngle(),this.getAscendantShift())),S=Zt.positionOnCircle(this.#o,this.#o,this.getPointCircleRadius(),Zt.degreeToRadian(n[r.getName()],this.getAscendantShift())),O=Zt.positionOnCircle(this.#o,this.#o,this.getRullerCircleRadius(),Zt.degreeToRadian(r.getAngle(),this.getAscendantShift()));if(this.#r.DRAW_RULER_MARK){const t=Qt.SVGLine(a.x,a.y,O.x,O.y);t.setAttribute("stroke",this.#r.CHART_LINE_COLOR),t.setAttribute("stroke-width",this.#r.CHART_STROKE),e.appendChild(t)}const _=Zt.positionOnCircle(this.#o,this.#o,this.getPointCircleRadius(),Zt.degreeToRadian(n[r.getName()],this.getAscendantShift()));let o;o=this.#r.DRAW_RULER_MARK?Qt.SVGLine(a.x,a.y,(a.x+_.x)/2,(a.y+_.y)/2):Qt.SVGLine(O.x,O.y,(a.x+_.x)/2,(a.y+_.y)/2),this.#r.PLANET_LINE_USE_PLANET_COLOR?o.setAttribute("stroke",this.#r.PLANET_COLORS[t.name]??this.#r.CHART_LINE_COLOR):o.setAttribute("stroke",this.#r.CHART_LINE_COLOR),o.setAttribute("stroke-width",this.#r.CHART_STROKE/2),e.appendChild(o);const c=r.getSymbol(S.x,S.y,Zt.DEG_0,this.#r.POINT_PROPERTIES_SHOW);c.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),c.setAttribute("text-anchor","middle"),c.setAttribute("dominant-baseline","middle"),c.setAttribute("font-size",this.#r.RADIX_POINTS_FONT_SIZE),c.setAttribute("fill",this.#r.PLANET_COLORS[t.name]??this.#r.CHART_POINTS_COLOR),e.appendChild(c),i.appendChild(e)}this.#O.appendChild(i)}#A(t){const e=t.points,s=t.cusps,i=[0,3,6,9],n=e.map((t=>t.angle)),r=Qt.SVGGroup();r.classList.add("c-radix-cusps");const a=this.getCenterCircleRadius()+(this.getInnerCircleRadius()-this.getCenterCircleRadius())/10;for(let t=0;t<s.length;t++){const e=!this.#r.CHART_ALLOW_HOUSE_OVERLAP&&Zt.isCollision(s[t].angle,n,this.#r.POINT_COLLISION_RADIUS/2),S=Zt.positionOnCircle(this.#o,this.#c,this.getCenterCircleRadius(),Zt.degreeToRadian(s[t].angle,this.getAscendantShift())),O=Zt.positionOnCircle(this.#o,this.#c,e?this.getCenterCircleRadius()+(this.getRullerCircleRadius()-this.getCenterCircleRadius())/6:this.getRullerCircleRadius(),Zt.degreeToRadian(s[t].angle,this.getAscendantShift())),_=Qt.SVGLine(S.x,S.y,O.x,O.y);_.setAttribute("stroke",i.includes(t)?this.#r.CHART_MAIN_AXIS_COLOR:this.#r.CHART_LINE_COLOR),_.setAttribute("stroke-width",i.includes(t)?this.#r.CHART_MAIN_STROKE:this.#r.CHART_STROKE),r.appendChild(_);const o=s[t].angle,c=s[(t+1)%12].angle,h=o+(c-o>0?c-o:c-o+Zt.DEG_360)/2,E=Zt.positionOnCircle(this.#o,this.#c,a,Zt.degreeToRadian(h,this.getAscendantShift())),R=Qt.SVGText(E.x,E.y,`${t+1}`);if(R.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),R.setAttribute("text-anchor","middle"),R.setAttribute("dominant-baseline","middle"),R.setAttribute("font-size",this.#r.RADIX_HOUSE_FONT_SIZE),R.setAttribute("fill",this.#r.CHART_HOUSE_NUMBER_COLOR),R.classList.add("c-radix-cusps__house-number"),this.#r.INSERT_ELEMENT_TITLE&&R.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.cusps[t+1])),r.appendChild(R),this.#r.DRAW_HOUSE_DEGREE){if(Array.isArray(this.#r.HOUSE_DEGREE_FILTER)&&!this.#r.HOUSE_DEGREE_FILTER.includes(t+1))continue;const e=Zt.positionOnCircle(this.#o,this.#c,this.getRullerCircleRadius()-(this.getInnerCircleRadius()-this.getRullerCircleRadius())/1.2,Zt.degreeToRadian(o-2.4,this.getAscendantShift())),i=Qt.SVGText(e.x,e.y,Math.floor(s[t].angle%30)+"º");i.setAttribute("font-family","Arial"),i.setAttribute("text-anchor","middle"),i.setAttribute("dominant-baseline","middle"),i.setAttribute("font-size",this.#r.HOUSE_DEGREE_SIZE||this.#r.POINT_PROPERTIES_ANGLE_SIZE/2),i.setAttribute("fill",this.#r.HOUSE_DEGREE_COLOR||this.#r.CHART_HOUSE_NUMBER_COLOR),r.appendChild(i)}}this.#O.appendChild(r)}#L(t){const e=t.cusps,s=[{name:Qt.SYMBOL_AS,angle:e[0].angle},{name:Qt.SYMBOL_IC,angle:e[3].angle},{name:Qt.SYMBOL_DS,angle:e[6].angle},{name:Qt.SYMBOL_MC,angle:e[9].angle}],i=Qt.SVGGroup();i.classList.add("c-radix-axis");const n=24===this.#a?this.getRadius():this.getInnerCircleRadius(),r=24===this.#a?this.getRadius()+10:this.getInnerCircleRadius()+5;for(const t of s){const e=Qt.SVGGroup();e.classList.add("c-radix-axis__axis"),e.classList.add("c-radix-axis__axis--"+t.name.toLowerCase());let s=Zt.positionOnCircle(this.#o,this.#c,n,Zt.degreeToRadian(t.angle,this.getAscendantShift())),a=Zt.positionOnCircle(this.#o,this.#c,r,Zt.degreeToRadian(t.angle,this.getAscendantShift())),S=Qt.SVGLine(s.x,s.y,a.x,a.y);S.setAttribute("stroke",this.#r.CHART_MAIN_AXIS_COLOR),S.setAttribute("stroke-width",this.#r.CHART_MAIN_STROKE),e.appendChild(S);let O,_=Zt.positionOnCircle(this.#o,this.#c,r,Zt.degreeToRadian(t.angle,this.getAscendantShift())),o=0,c=0;const h=2;switch(t.name){case"As":o-=h,c-=h,Qt.SYMBOL_AS_CODE=this.#r.SYMBOL_AS_CODE??Qt.SYMBOL_AS_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","end"),O.setAttribute("dominant-baseline","middle");break;case"Ds":o+=h,c-=h,Qt.SYMBOL_DS_CODE=this.#r.SYMBOL_DS_CODE??Qt.SYMBOL_DS_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","start"),O.setAttribute("dominant-baseline","middle");break;case"Mc":c-=h,Qt.SYMBOL_MC_CODE=this.#r.SYMBOL_MC_CODE??Qt.SYMBOL_MC_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","text-top");break;case"Ic":c+=h,Qt.SYMBOL_IC_CODE=this.#r.SYMBOL_IC_CODE??Qt.SYMBOL_IC_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","hanging");break;default:throw console.error(t.name),new Error("Unknown axis name.")}O.setAttribute("font-family",this.#r.AXIS_FONT_FAMILY??this.#r.CHART_FONT_FAMILY),O.setAttribute("font-size",this.#r.RADIX_AXIS_FONT_SIZE),O.setAttribute("font-weight",this.#r.AXIS_FONT_WEIGHT??400),O.setAttribute("fill",this.#r.CHART_MAIN_AXIS_COLOR),O.setAttribute("paint-order","stroke"),this.#r.CLASS_AXIS&&O.setAttribute("class",this.#r.CLASS_AXIS+" "+this.#r.CLASS_AXIS+"--"+t.name.toLowerCase()),this.#r.INSERT_ELEMENT_TITLE&&O.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.axis[t.name])),e.appendChild(O),i.appendChild(e)}this.#O.appendChild(i)}#l(){const t=Qt.SVGGroup();t.classList.add("c-radix-borders");const e=Qt.SVGCircle(this.#o,this.#c,this.getOuterCircleRadius());e.setAttribute("stroke",this.#r.CHART_CIRCLE_COLOR),e.setAttribute("stroke-width",this.#r.CHART_MAIN_STROKE),t.appendChild(e);const s=Qt.SVGCircle(this.#o,this.#c,this.getInnerCircleRadius());s.setAttribute("stroke",this.#r.CHART_CIRCLE_COLOR),s.setAttribute("stroke-width",this.#r.CHART_MAIN_STROKE),t.appendChild(s);const i=Qt.SVGCircle(this.#o,this.#c,this.getCenterCircleRadius());i.setAttribute("stroke",this.#r.CHART_CIRCLE_COLOR),i.setAttribute("stroke-width",this.#r.CHART_MAIN_STROKE),t.appendChild(i),this.#O.appendChild(t)}animateTo(t){}getPoint(t){}getPoints(){}}class Jt extends qt{#a=32;#I;#r;#O;#_;#o;#c;#h;#R;constructor(t){if(!(t instanceof zt))throw new Error("Bad param radix.");super(t.getUniverse().getSettings()),this.#I=t,this.#r=this.#I.getUniverse().getSettings(),this.#o=this.#r.CHART_VIEWBOX_WIDTH/2,this.#c=this.#r.CHART_VIEWBOX_HEIGHT/2,this.#h=Math.min(this.#o,this.#c)-this.#r.CHART_PADDING,this.#O=Qt.SVGGroup(),this.#O.setAttribute("id",`${this.#r.HTML_ELEMENT_ID}-${this.#r.TRANSIT_ID}`),this.#I.getUniverse().getSVGDocument().appendChild(this.#O);let e=Qt.SVGGroup();return e.setAttribute("id",this.#r.TOP_LAYER_ID??"c-top-layer"),this.#I.getUniverse().getSVGDocument().appendChild(e),this}setData(t){let e=this.validateData(t);if(!e.isValid)throw new Error(e.message);return this.#_=t,this.#u(t),this}getData(){return{points:[...this.#_.points],cusps:[...this.#_.cusps]}}getRadius(){return this.#h}getAspects(t,e,s){if(this.#_)return t=t??[...this.#_.points.filter((t=>!("aspect"in t)||t.aspect)),...this.#_.cusps.filter((t=>t.aspect))],e=e??[...this.#I.getData().points.filter((t=>!("aspect"in t)||t.aspect)),...this.#I.getData().cusps.filter((t=>t.aspect))],s=s??this.#r.DEFAULT_ASPECTS??vt.DEFAULT_ASPECTS,jt.getAspects(t,e,s)}drawAspects(t,e,s){const i=this.#I.getUniverse().getAspectsElement();Zt.cleanUp(i.getAttribute("id"),this.#R);const n=this.getAspects(t,e,s).reduce(((t,e)=>(t.some((t=>t.from.name===e.to.name&&t.to.name===e.from.name))||t.push(e),t)),[]),r=Qt.SVGCircle(this.#o,this.#c,this.#I.getCenterCircleRadius());return r.setAttribute("fill",this.#r.ASPECTS_BACKGROUND_COLOR),i.appendChild(r),i.appendChild(jt.drawAspects(this.#I.getCenterCircleRadius(),this.#I.getAscendantShift(),this.#r,n)),this}#u(t){Zt.cleanUp(this.#O.getAttribute("id"),this.#R),this.#I.setNumberOfLevels(this.#a),this.#A(t),this.#d(t),this.#g(),this.#l(),this.#r.CHART_DRAW_MAIN_AXIS&&this.#L(t),this.#r.DRAW_ASPECTS&&this.drawAspects()}#g(){const t=Qt.SVGGroup();let e=this.#I.getAscendantShift();for(let s=0;s<72;s++){let i=Zt.positionOnCircle(this.#o,this.#c,this.#N(),Zt.degreeToRadian(e)),n=Zt.positionOnCircle(this.#o,this.#c,s%2?this.getRadius()-(this.getRadius()-this.#N())/2:this.getRadius(),Zt.degreeToRadian(e));const r=Qt.SVGLine(i.x,i.y,n.x,n.y);r.setAttribute("stroke",this.#r.CHART_LINE_COLOR),r.setAttribute("stroke-width",this.#r.CHART_STROKE),t.appendChild(r),e+=5}const s=Qt.SVGCircle(this.#o,this.#c,this.#N());s.setAttribute("stroke",this.#r.CHART_CIRCLE_COLOR),s.setAttribute("stroke-width",this.#r.CHART_STROKE),t.appendChild(s),this.#O.appendChild(t)}#d(t){const e=t.points,s=t.cusps,i=Qt.SVGGroup();i.classList.add("c-transit-points");const n=Zt.calculatePositionWithoutOverlapping(e,this.#r.POINT_COLLISION_RADIUS,this.#M());for(const t of e){const e=Qt.SVGGroup();e.classList.add("c-transit-point"),e.classList.add("c-transit-point--"+t.name.toLowerCase());const r=new $t(t,s,this.#r),a=Zt.positionOnCircle(this.#o,this.#o,this.#N()-(this.getRadius()-this.#N())/4,Zt.degreeToRadian(r.getAngle(),this.#I.getAscendantShift())),S=Zt.positionOnCircle(this.#o,this.#o,this.#M(),Zt.degreeToRadian(n[r.getName()],this.#I.getAscendantShift())),O=Zt.positionOnCircle(this.#o,this.#o,this.#N(),Zt.degreeToRadian(r.getAngle(),this.#I.getAscendantShift()));if(this.#r.DRAW_RULER_MARK){const t=Qt.SVGLine(a.x,a.y,O.x,O.y);t.setAttribute("stroke",this.#r.CHART_LINE_COLOR),t.setAttribute("stroke-width",this.#r.CHART_STROKE),e.appendChild(t)}const _=Zt.positionOnCircle(this.#o,this.#o,this.#M(),Zt.degreeToRadian(n[r.getName()],this.#I.getAscendantShift()));let o;o=this.#r.DRAW_RULER_MARK?Qt.SVGLine(a.x,a.y,(a.x+_.x)/2,(a.y+_.y)/2):Qt.SVGLine(O.x,O.y,(a.x+_.x)/2,(a.y+_.y)/2),this.#r.PLANET_LINE_USE_PLANET_COLOR?o.setAttribute("stroke",this.#r.PLANET_COLORS[t.name]??this.#r.CHART_LINE_COLOR):o.setAttribute("stroke",this.#r.CHART_LINE_COLOR),o.setAttribute("stroke-width",this.#r.CHART_STROKE/2),e.appendChild(o);const c=r.getSymbol(S.x,S.y,Zt.DEG_0,this.#r.POINT_PROPERTIES_SHOW);c.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),c.setAttribute("text-anchor","middle"),c.setAttribute("dominant-baseline","middle"),c.setAttribute("font-size",this.#r.RADIX_POINTS_FONT_SIZE),c.setAttribute("fill",this.#r.PLANET_COLORS[t.name]??this.#r.CHART_POINTS_COLOR),e.appendChild(c),i.appendChild(e)}this.#O.appendChild(i)}#A(t){const e=t.points,s=t.cusps,i=[0,3,6,9],n=e.map((t=>t.angle)),r=Qt.SVGGroup();r.classList.add("c-transit-cusps");const a=this.#p()+(this.#N()-this.#p())/6;for(let t=0;t<s.length;t++){const e=!this.#r.CHART_ALLOW_HOUSE_OVERLAP&&Zt.isCollision(s[t].angle,n,this.#r.POINT_COLLISION_RADIUS/2),S=Zt.positionOnCircle(this.#o,this.#c,this.#p(),Zt.degreeToRadian(s[t].angle,this.#I.getAscendantShift())),O=Zt.positionOnCircle(this.#o,this.#c,e?this.#p()+(this.#N()-this.#p())/6:this.#N(),Zt.degreeToRadian(s[t].angle,this.#I.getAscendantShift())),_=Qt.SVGLine(S.x,S.y,O.x,O.y);_.setAttribute("stroke",i.includes(t)?this.#r.CHART_MAIN_AXIS_COLOR:this.#r.CHART_LINE_COLOR),_.setAttribute("stroke-width",i.includes(t)?this.#r.CHART_MAIN_STROKE:this.#r.CHART_STROKE),r.appendChild(_);const o=s[t].angle,c=s[(t+1)%12].angle,h=o+(c-o>0?c-o:c-o+Zt.DEG_360)/2,E=Zt.positionOnCircle(this.#o,this.#c,a,Zt.degreeToRadian(h,this.#I.getAscendantShift())),R=Qt.SVGText(E.x,E.y,`${t+1}`);if(R.setAttribute("font-family",this.#r.CHART_FONT_FAMILY),R.setAttribute("text-anchor","middle"),R.setAttribute("dominant-baseline","middle"),R.setAttribute("font-size",this.#r.RADIX_HOUSE_FONT_SIZE),R.setAttribute("fill",this.#r.CHART_HOUSE_NUMBER_COLOR),R.classList.add("c-radix-cusps__house-number"),this.#r.INSERT_ELEMENT_TITLE&&R.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.cusps[t+1])),r.appendChild(R),this.#r.DRAW_HOUSE_DEGREE){if(Array.isArray(this.#r.HOUSE_DEGREE_FILTER)&&!this.#r.HOUSE_DEGREE_FILTER.includes(t+1))continue;const e=Zt.positionOnCircle(this.#o,this.#c,this.#N()-(this.getRadius()-this.#N()),Zt.degreeToRadian(o-1.75,this.#I.getAscendantShift())),i=Qt.SVGText(e.x,e.y,Math.floor(s[t].angle%30)+"º");i.setAttribute("font-family","Arial"),i.setAttribute("text-anchor","middle"),i.setAttribute("dominant-baseline","middle"),i.setAttribute("font-size",this.#r.HOUSE_DEGREE_SIZE||this.#r.POINT_PROPERTIES_ANGLE_SIZE/2),i.setAttribute("fill",this.#r.HOUSE_DEGREE_COLOR||this.#r.TRANSIT_HOUSE_NUMBER_COLOR||this.#r.CHART_HOUSE_NUMBER_COLOR),r.appendChild(i)}}this.#O.appendChild(r)}#L(t){const e=t.cusps,s=[{name:Qt.SYMBOL_AS,angle:e[0].angle},{name:Qt.SYMBOL_IC,angle:e[3].angle},{name:Qt.SYMBOL_DS,angle:e[6].angle},{name:Qt.SYMBOL_MC,angle:e[9].angle}],i=Qt.SVGGroup();i.classList.add("c-transit-axis");const n=this.getRadius(),r=this.getRadius()+10;for(const t of s){const e=Qt.SVGGroup();e.classList.add("c-transit-axis__axis"),e.classList.add("c-transit-axis__axis--"+t.name.toLowerCase());let s=Zt.positionOnCircle(this.#o,this.#c,n,Zt.degreeToRadian(t.angle,this.#I.getAscendantShift())),a=Zt.positionOnCircle(this.#o,this.#c,r,Zt.degreeToRadian(t.angle,this.#I.getAscendantShift())),S=Qt.SVGLine(s.x,s.y,a.x,a.y);S.setAttribute("stroke",this.#r.CHART_MAIN_AXIS_COLOR),S.setAttribute("stroke-width",this.#r.CHART_MAIN_STROKE),e.appendChild(S);let O,_=Zt.positionOnCircle(this.#o,this.#c,r+10,Zt.degreeToRadian(t.angle,this.#I.getAscendantShift())),o=0,c=0;const h=0;switch(t.name){case"As":o-=h,c-=h,Qt.SYMBOL_AS_CODE=this.#r.SYMBOL_AS_CODE??Qt.SYMBOL_AS_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","middle");break;case"Ds":o+=h,c-=h,Qt.SYMBOL_DS_CODE=this.#r.SYMBOL_DS_CODE??Qt.SYMBOL_DS_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","middle");break;case"Mc":c-=h,Qt.SYMBOL_MC_CODE=this.#r.SYMBOL_MC_CODE??Qt.SYMBOL_MC_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","middle");break;case"Ic":c+=h,Qt.SYMBOL_IC_CODE=this.#r.SYMBOL_IC_CODE??Qt.SYMBOL_IC_CODE,O=Qt.SVGSymbol(t.name,_.x+o,_.y+c),O.setAttribute("text-anchor","middle"),O.setAttribute("dominant-baseline","middle");break;default:throw console.error(t.name),new Error("Unknown axis name.")}O.setAttribute("font-family",this.#r.AXIS_FONT_FAMILY??this.#r.CHART_FONT_FAMILY),O.setAttribute("font-size",this.#r.RADIX_AXIS_FONT_SIZE),O.setAttribute("font-weight",this.#r.AXIS_FONT_WEIGHT??400),O.setAttribute("fill",this.#r.CHART_MAIN_AXIS_COLOR),O.setAttribute("paint-order","stroke"),this.#r.CLASS_AXIS&&O.setAttribute("class",this.#r.CLASS_AXIS+" "+this.#r.CLASS_AXIS+"--"+t.name.toLowerCase()),this.#r.INSERT_ELEMENT_TITLE&&O.appendChild(Qt.SVGTitle(this.#r.ELEMENT_TITLES.axis[t.name])),e.appendChild(O),i.appendChild(e)}this.#O.appendChild(i)}#l(){const t=Qt.SVGGroup();t.classList.add("c-transit-borders");const e=Qt.SVGCircle(this.#o,this.#c,this.getRadius());e.setAttribute("stroke",this.#r.CHART_CIRCLE_COLOR),e.setAttribute("stroke-width",this.#r.CHART_MAIN_STROKE),t.appendChild(e),this.#O.appendChild(t)}#M(){return this.getRadius()/this.#a*29}#N(){return this.getRadius()/this.#a*31}#p(){return this.getRadius()/this.#a*24}animateTo(t){}getPoint(t){}getPoints(){}}class te{#b;#r;#I;#m;#P;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)throw new Error("A required parameter is missing.");if(!document.getElementById(t))throw new Error("Canot find a HTML element with ID "+t);this.#r=Object.assign({},vt,e,{HTML_ELEMENT_ID:t}),this.#b=Qt.SVGDocument(this.#r.CHART_VIEWBOX_WIDTH,this.#r.CHART_VIEWBOX_HEIGHT),document.getElementById(t).appendChild(this.#b);const s=Qt.SVGGroup();s.classList.add("c-backgrounds");const i=Qt.SVGCircle(this.#r.CHART_VIEWBOX_WIDTH/2,this.#r.CHART_VIEWBOX_HEIGHT/2,this.#r.CHART_VIEWBOX_WIDTH/2);return i.setAttribute("fill",this.#r.CHART_BACKGROUND_COLOR),i.classList.add("c-chart-background"),s.appendChild(i),this.#b.appendChild(s),this.#P=Qt.SVGGroup(),this.#P.setAttribute("id",`${this.#r.HTML_ELEMENT_ID}-${this.#r.ASPECTS_ID}`),this.#b.appendChild(this.#P),this.#I=new zt(this),this.#m=new Jt(this.#I),this.#r.FONT_ASTRONOMICON_LOAD&&this.#G("Astronomicon",this.#r.FONT_ASTRONOMICON_PATH),this}radix(){return this.#I}transit(){return this.#m}getSettings(){return this.#r}getSVGDocument(){return this.#b}getAspectsElement(){return this.#P}async#G(t,e,s){if(!("FontFace"in window))return void console.error("Ooops, FontFace is not a function.");const i=new FontFace(t,`url(${e})`,s);try{await i.load(),document.fonts.add(i)}catch(t){throw new Error(t)}}}return e})()));